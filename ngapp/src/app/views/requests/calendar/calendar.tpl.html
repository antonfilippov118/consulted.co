<div id="user_calendar">
  <h3>Provide your available times and dates (max. 5)</h3>
  <div class="time_selected" ng-show="times().length > 0">
    <h4>Times selected:</h4>
    <pre>{{times()}}</pre>
    <ol>
      <li ng-repeat="time in times()">{{time.starts | datehour}} &mdash; {{time.ends | datehour}}</li>
    </ol>
    <div class="buttons">
      <a ng-click="clear()" class="btn btn-danger">Clear these times</a>
    </div>
  </div>
  <div class="calendar">
    <div class="caption">
      <a ng-click="prev()">&laquo;</a> Week #{{start_date | week}} <a ng-click="next()">&raquo;</a>
    </div>
    <div class="header">
      <div class="empty">&nbsp;</div>
      <div class="date" ng-repeat="day in weekdays">
        {{day}}<br>
        <small>{{addDay($index) | date}}</small>
      </div>
    </div>
    <div class="data">
      <div class="times">
        <div class="hour" ng-repeat="hour in hours">{{hour}}:00</div>
      </div>
      <div class="column" ng-class="{'inactive':maxedOut()}" search-day-column ng-dblclick="add($event, $index)" ng-repeat="day in weekdays">
        <div search-event="event" ng-repeat="event in events()[$index] track by event.id"></div>
      </div>
      <div class="footer">&nbsp;</div>
    </div>
    <div class="footer"></div>
  </div>
</div>